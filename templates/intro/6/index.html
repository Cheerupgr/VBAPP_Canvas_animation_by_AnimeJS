<html>
<head>
    <title>Intro Animation 6</title>
    <link href="normalize.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <script src="anime.min.js"></script>
    <script src="imagesloaded.pkgd.min.js"></script>
    <script src="script.js"></script>

    <script>
        document.documentElement.className = 'js';

        var vbAnimationTemplateLib = new VBAnimationTemplateLib({
            runOnReady: true,
            elements: [''],
            delay: 3000 /* delay set at line 39 below */
        });

        document.addEventListener('DOMContentLoaded', function() {

            //Take text from DOM, segregate it into spans and append back
            var content = document.getElementById('content');
            var text = content.innerText;
            content.innerText = '';

            for (var i=0; i < text.length; i++) {
                var char = text[i];

                if (char === ' '){
                    char = char.replace(' ', '\u00a0');
                }

                var span = document.createElement('SPAN');
                span.appendChild(document.createTextNode(char));
                content.appendChild(span);
            }

            // Animation trigger
            var delay = /* delay */ 100; /* delay */
            setTimeout(function () {
                var headline = document.querySelector('.trigger-headline'),
                    segmenter = new Segmenter(document.querySelector('.segmenter'), {
                        pieces: 8,
                        positions: [
                            {top: 0, left: 0, width: 100, height: 100},
                            {top: 0, left: 0, width: 100, height: 100},
                            {top: 0, left: 0, width: 100, height: 100},
                            {top: 0, left: 0, width: 100, height: 100},
                            {top: 0, left: 0, width: 100, height: 100},
                            {top: 0, left: 0, width: 100, height: 100},
                            {top: 0, left: 0, width: 100, height: 100},
                            {top: 0, left: 0, width: 100, height: 100}
                        ],
                        shadows: true,
                        parallax: false,
                        animation: {
                            duration: 3000,
                            easing: 'easeOutExpo',
                            delay: 1000,
                            opacity: .1,
                            translateZ: {min: 10, max: 95}
                        },
                        onReady: function() {
                            segmenter.animate();
                            headline.classList.remove('trigger-headline--hidden');
                        }
                    });
            }, delay);
        });

    </script>
</head>
<body class="main">

<div class="segmenter" style="background-image: /* background_image */ url(placeholder.jpg) /* background_image */;"></div>
<h2 id="content" class="trigger-headline trigger-headline--hidden" style="color: /* text_color */ #ffffff /* text_color */;"> <!--text--> Intro 6 <!--text--></h2>

</body>
</html>
